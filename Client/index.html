<html>
<head>
    <title>PHP SSE Demo</title>
</head>

<body>
<h2>Messages</h2>
<ul id="message-list">
    <!-- new messages appears here -->
</ul>
</body>

<script>
    const eventSource = new EventSource('http://localhost:8080');
    const listElement = document.getElementById('message-list');

    eventSource.onopen = function (currentEvent) {
        console.log(currentEvent)
    }

    eventSource.onerror = function (currentEvent) {
        console.log(currentEvent)
    }

    eventSource.onmessage = function (currentEvent) {
        console.log(currentEvent)
        const newElement = document.createElement('li');
        newElement.innerText = currentEvent.data;
        listElement.appendChild(newElement)

    };
</script>
</html>